23:24:29 found model: Book (table: book)
23:24:29   found mapping: id ==> <StringField, varchar(50):None>
23:24:29   found mapping: title ==> <StringField, varchar(50):None>
23:24:29   found mapping: press ==> <StringField, varchar(50):None>
23:24:29   found mapping: year ==> <IntegerField, bigint:None>
23:24:29   found mapping: author ==> <StringField, varchar(50):None>
23:24:29   found mapping: price ==> <FloatField, real:None>
23:24:29   found mapping: total ==> <IntegerField, bigint:None>
23:24:29   found mapping: stock ==> <IntegerField, bigint:None>
23:24:29 found model: Borrow (table: borrow)
23:24:29   found mapping: id ==> <StringField, varchar(50):None>
23:24:29   found mapping: card_id ==> <StringField, varchar(50):None>
23:24:29   found mapping: book_id ==> <StringField, varchar(50:None>
23:24:29   found mapping: admin_id ==> <StringField, vaarchar(50):None>
23:24:29   found mapping: borrow_date ==> <FloatField, numeric(10,2):None>
23:24:29   found mapping: return_date ==> <FloatField, numeric(10,2):None>
23:24:29   found mapping: deleted ==> <BooleanField, boolean:None>
23:24:29 found model: User (table: user)
23:24:29   found mapping: id ==> <StringField, varchar(50):None>
23:24:29   found mapping: email ==> <StringField, varchar(50):None>
23:24:29   found mapping: password ==> <StringField, varchar(65):None>
23:24:29   found mapping: role ==> <IntegerField, bigint:None>
23:24:29   found mapping: username ==> <StringField, varchar(50):None>
23:24:29   found mapping: created_time ==> <FloatField, numeric(10,2):None>
23:24:29   found mapping: card_id ==> <StringField, varchar(50):None>
23:24:29 found model: Card (table: card)
23:24:29   found mapping: id ==> <StringField, varchar(50):None>
23:24:29   found mapping: name ==> <StringField, varchar(50):None>
23:24:29   found mapping: dept ==> <StringField, varchar(50):None>
23:24:29   found mapping: type ==> <StringField, varchar(1):None>
23:25:57 found model: Book (table: book)
23:25:57   found mapping: id ==> <StringField, varchar(50):None>
23:25:57   found mapping: title ==> <StringField, varchar(50):None>
23:25:57   found mapping: press ==> <StringField, varchar(50):None>
23:25:57   found mapping: year ==> <IntegerField, bigint:None>
23:25:57   found mapping: author ==> <StringField, varchar(50):None>
23:25:57   found mapping: price ==> <FloatField, real:None>
23:25:57   found mapping: total ==> <IntegerField, bigint:None>
23:25:57   found mapping: stock ==> <IntegerField, bigint:None>
23:25:57 found model: Borrow (table: borrow)
23:25:57   found mapping: id ==> <StringField, varchar(50):None>
23:25:57   found mapping: card_id ==> <StringField, varchar(50):None>
23:25:57   found mapping: book_id ==> <StringField, varchar(50:None>
23:25:57   found mapping: admin_id ==> <StringField, vaarchar(50):None>
23:25:57   found mapping: borrow_date ==> <FloatField, numeric(10,2):None>
23:25:57   found mapping: return_date ==> <FloatField, numeric(10,2):None>
23:25:57   found mapping: deleted ==> <BooleanField, boolean:None>
23:25:57 found model: User (table: user)
23:25:57   found mapping: id ==> <StringField, varchar(50):None>
23:25:57   found mapping: email ==> <StringField, varchar(50):None>
23:25:57   found mapping: password ==> <StringField, varchar(65):None>
23:25:57   found mapping: role ==> <IntegerField, bigint:None>
23:25:57   found mapping: username ==> <StringField, varchar(50):None>
23:25:57   found mapping: created_time ==> <FloatField, numeric(10,2):None>
23:25:57   found mapping: card_id ==> <StringField, varchar(50):None>
23:25:57 found model: Card (table: card)
23:25:57   found mapping: id ==> <StringField, varchar(50):None>
23:25:57   found mapping: name ==> <StringField, varchar(50):None>
23:25:57   found mapping: dept ==> <StringField, varchar(50):None>
23:25:57   found mapping: type ==> <StringField, varchar(1):None>
23:25:58 found model: Book (table: book)
23:25:58   found mapping: id ==> <StringField, varchar(50):None>
23:25:58   found mapping: title ==> <StringField, varchar(50):None>
23:25:58   found mapping: press ==> <StringField, varchar(50):None>
23:25:58   found mapping: year ==> <IntegerField, bigint:None>
23:25:58   found mapping: author ==> <StringField, varchar(50):None>
23:25:58   found mapping: price ==> <FloatField, real:None>
23:25:58   found mapping: total ==> <IntegerField, bigint:None>
23:25:58   found mapping: stock ==> <IntegerField, bigint:None>
23:25:58 found model: Borrow (table: borrow)
23:25:58   found mapping: id ==> <StringField, varchar(50):None>
23:25:58   found mapping: card_id ==> <StringField, varchar(50):None>
23:25:58   found mapping: book_id ==> <StringField, varchar(50:None>
23:25:58   found mapping: admin_id ==> <StringField, vaarchar(50):None>
23:25:58   found mapping: borrow_date ==> <FloatField, numeric(10,2):None>
23:25:58   found mapping: return_date ==> <FloatField, numeric(10,2):None>
23:25:58   found mapping: deleted ==> <BooleanField, boolean:None>
23:25:58 found model: User (table: user)
23:25:58   found mapping: id ==> <StringField, varchar(50):None>
23:25:58   found mapping: email ==> <StringField, varchar(50):None>
23:25:58   found mapping: password ==> <StringField, varchar(65):None>
23:25:58   found mapping: role ==> <IntegerField, bigint:None>
23:25:58   found mapping: username ==> <StringField, varchar(50):None>
23:25:58   found mapping: created_time ==> <FloatField, numeric(10,2):None>
23:25:58   found mapping: card_id ==> <StringField, varchar(50):None>
23:25:58 found model: Card (table: card)
23:25:58   found mapping: id ==> <StringField, varchar(50):None>
23:25:58   found mapping: name ==> <StringField, varchar(50):None>
23:25:58   found mapping: dept ==> <StringField, varchar(50):None>
23:25:58   found mapping: type ==> <StringField, varchar(1):None>
23:26:02 当前执行的sql语句: select id, email, password, role, username, created_time, card_id from user where id=? ['0015548749550657318fa7cbd054509b37bab57577a76a7000']
23:26:35 found model: Book (table: book)
23:26:35   found mapping: id ==> <StringField, varchar(50):None>
23:26:35   found mapping: title ==> <StringField, varchar(50):None>
23:26:35   found mapping: press ==> <StringField, varchar(50):None>
23:26:35   found mapping: year ==> <IntegerField, bigint:None>
23:26:35   found mapping: author ==> <StringField, varchar(50):None>
23:26:35   found mapping: price ==> <FloatField, real:None>
23:26:35   found mapping: total ==> <IntegerField, bigint:None>
23:26:35   found mapping: stock ==> <IntegerField, bigint:None>
23:26:35 found model: Borrow (table: borrow)
23:26:35   found mapping: id ==> <StringField, varchar(50):None>
23:26:35   found mapping: card_id ==> <StringField, varchar(50):None>
23:26:35   found mapping: book_id ==> <StringField, varchar(50:None>
23:26:35   found mapping: admin_id ==> <StringField, vaarchar(50):None>
23:26:35   found mapping: borrow_date ==> <FloatField, numeric(10,2):None>
23:26:35   found mapping: return_date ==> <FloatField, numeric(10,2):None>
23:26:35   found mapping: deleted ==> <BooleanField, boolean:None>
23:26:35 found model: User (table: user)
23:26:35   found mapping: id ==> <StringField, varchar(50):None>
23:26:35   found mapping: email ==> <StringField, varchar(50):None>
23:26:35   found mapping: password ==> <StringField, varchar(65):None>
23:26:35   found mapping: role ==> <IntegerField, bigint:None>
23:26:35   found mapping: username ==> <StringField, varchar(50):None>
23:26:35   found mapping: created_time ==> <FloatField, numeric(10,2):None>
23:26:35   found mapping: card_id ==> <StringField, varchar(50):None>
23:26:35 found model: Card (table: card)
23:26:35   found mapping: id ==> <StringField, varchar(50):None>
23:26:35   found mapping: name ==> <StringField, varchar(50):None>
23:26:35   found mapping: dept ==> <StringField, varchar(50):None>
23:26:35   found mapping: type ==> <StringField, varchar(1):None>
23:26:36 当前执行的sql语句: select id, email, password, role, username, created_time, card_id from user where id=? ['0015548749550657318fa7cbd054509b37bab57577a76a7000']
23:26:36 rows returned: 1
23:26:36 当前用户: {'id': '0015548749550657318fa7cbd054509b37bab57577a76a7000', 'email': '', 'password': '1be6af03717a0906a774a129ac467fcea8f89849df003548a8039cffffb12baf', 'role': 1, 'username': 'xxm', 'created_time': 1554874955.0619547, 'card_id': '0015548997115877339c4961628494483e1416feacbdbd5000'}
23:26:36 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book []
23:26:36 rows returned: 7
23:26:36 当前执行的sql语句: select id, email, password, role, username, created_time, card_id from user where id=? ['0015548749550657318fa7cbd054509b37bab57577a76a7000']
23:26:36 rows returned: 1
23:26:37 当前执行的sql语句: select id, card_id, book_id, admin_id, borrow_date, return_date, deleted from borrow where card_id=? and deleted=? ['0015548997115877339c4961628494483e1416feacbdbd5000', False]
23:26:37 rows returned: 3
23:26:37 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592757016e0aaca1df2894a12a9a6f09a0c48c25d000']
23:26:37 rows returned: 1
23:26:37 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592718220025e8ac4ccb44520b784f29a8411e103000']
23:26:37 rows returned: 1
23:26:37 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592793516a598249f6aac4eeb81ff098f974c56f4000']
23:26:37 rows returned: 1
23:26:39 当前执行的sql语句: select id, email, password, role, username, created_time, card_id from user where id=? ['0015548749550657318fa7cbd054509b37bab57577a76a7000']
23:26:39 rows returned: 1
23:26:39 当前执行的sql语句: select id, card_id, book_id, admin_id, borrow_date, return_date, deleted from borrow where card_id=? ['0015548997115877339c4961628494483e1416feacbdbd5000']
23:26:39 rows returned: 6
23:26:39 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592718220025e8ac4ccb44520b784f29a8411e103000']
23:26:39 rows returned: 1
23:26:39 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592757016e0aaca1df2894a12a9a6f09a0c48c25d000']
23:26:39 rows returned: 1
23:26:39 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592793516a598249f6aac4eeb81ff098f974c56f4000']
23:26:39 rows returned: 1
23:26:39 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592718220025e8ac4ccb44520b784f29a8411e103000']
23:26:39 rows returned: 1
23:26:39 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592718220025e8ac4ccb44520b784f29a8411e103000']
23:26:39 rows returned: 1
23:26:39 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592793516a598249f6aac4eeb81ff098f974c56f4000']
23:26:39 rows returned: 1
23:26:39 infos: [{'book': '算法导论', 'bt': '2019-04-18 22:01:18', 'rt': '2019-04-18 22:07:31', 'de': 1}, {'book': '计算即组成与设计', 'bt': '2019-04-18 22:07:17', 'rt': '', 'de': 0}, {'book': 'C++ Primer', 'bt': '2019-04-18 22:07:22', 'rt': '2019-04-18 22:07:46', 'de': 1}, {'book': '算法导论', 'bt': '2019-04-18 22:07:38', 'rt': '2019-04-18 22:07:48', 'de': 1}, {'book': '算法导论', 'bt': '2019-04-19 20:18:41', 'rt': '', 'de': 0}, {'book': 'C++ Primer', 'bt': '2019-04-19 20:20:19', 'rt': '', 'de': 0}]
23:26:42 当前执行的sql语句: select id, email, password, role, username, created_time, card_id from user where id=? ['0015548749550657318fa7cbd054509b37bab57577a76a7000']
23:26:42 rows returned: 1
23:26:42 用户(xxm)尝试归还书籍(C++ Primer):
23:26:42 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where title=? ['C++ Primer']
23:26:42 rows returned: 1
23:26:42 Return: 找到该书C++ Primer
23:26:42 当前执行的sql语句: select id, card_id, book_id, admin_id, borrow_date, return_date, deleted from borrow where card_id=? and book_id=? and deleted=? ['0015548997115877339c4961628494483e1416feacbdbd5000', '001555592793516a598249f6aac4eeb81ff098f974c56f4000', False]
23:26:42 rows returned: 1
23:26:42 当前执行的sql语句: update book set title=?, press=?, year=?, author=?, price=?, total=?, stock=? where id=? ['C++ Primer', '电子工业出版社', 2008, 'David A', Decimal('78.00'), 30, 27, '001555592793516a598249f6aac4eeb81ff098f974c56f4000']
23:26:42 (C++ Primer)库存数加1
23:26:42 当前执行的sql语句: update borrow set card_id=?, book_id=?, admin_id=?, borrow_date=?, return_date=?, deleted=? where id=? ['0015548997115877339c4961628494483e1416feacbdbd5000', '001555592793516a598249f6aac4eeb81ff098f974c56f4000', '-1', 1555676419.9939392, 1555687602, True, '0015556764200032d746aad22584a9a8c3a9802b7790510000']
23:26:42 Return: 还书成功, 书名:(C++ Primer)
23:26:46 当前执行的sql语句: select id, email, password, role, username, created_time, card_id from user where id=? ['0015548749550657318fa7cbd054509b37bab57577a76a7000']
23:26:46 rows returned: 1
23:26:46 当前用户: {'id': '0015548749550657318fa7cbd054509b37bab57577a76a7000', 'email': '', 'password': '1be6af03717a0906a774a129ac467fcea8f89849df003548a8039cffffb12baf', 'role': 1, 'username': 'xxm', 'created_time': 1554874955.0619547, 'card_id': '0015548997115877339c4961628494483e1416feacbdbd5000'}
23:26:46 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book []
23:26:46 rows returned: 7
23:26:46 当前执行的sql语句: select id, email, password, role, username, created_time, card_id from user where id=? ['0015548749550657318fa7cbd054509b37bab57577a76a7000']
23:26:46 rows returned: 1
23:26:46 当前执行的sql语句: select id, card_id, book_id, admin_id, borrow_date, return_date, deleted from borrow where card_id=? and deleted=? ['0015548997115877339c4961628494483e1416feacbdbd5000', False]
23:26:46 rows returned: 2
23:26:46 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592757016e0aaca1df2894a12a9a6f09a0c48c25d000']
23:26:46 rows returned: 1
23:26:46 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592718220025e8ac4ccb44520b784f29a8411e103000']
23:26:46 rows returned: 1
23:26:51 当前执行的sql语句: select id, email, password, role, username, created_time, card_id from user where id=? ['0015548749550657318fa7cbd054509b37bab57577a76a7000']
23:26:51 rows returned: 1
23:26:51 用户(xxm)尝试借阅书籍(C++ Primer):
23:26:51 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where title=? ['C++ Primer']
23:26:51 rows returned: 1
23:26:51 当前执行的sql语句: select id, card_id, book_id, admin_id, borrow_date, return_date, deleted from borrow where card_id=? and deleted=? ['0015548997115877339c4961628494483e1416feacbdbd5000', False]
23:26:51 rows returned: 2
23:26:51 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592757016e0aaca1df2894a12a9a6f09a0c48c25d000']
23:26:51 rows returned: 1
23:26:51 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592718220025e8ac4ccb44520b784f29a8411e103000']
23:26:51 rows returned: 1
23:26:51 Borrow: C++ Primer有库存
23:26:51 当前执行的sql语句: update book set title=?, press=?, year=?, author=?, price=?, total=?, stock=? where id=? ['C++ Primer', '电子工业出版社', 2008, 'David A', Decimal('78.00'), 30, 26, '001555592793516a598249f6aac4eeb81ff098f974c56f4000']
23:26:51 (C++ Primer)库存数减1
23:26:51 using default value for admin_id: -1
23:26:51 using default value for borrow_date: 1555687611.1728072
23:26:51 using default value for deleted: False
23:26:51 using default value for id: 001555687611180ac800e85158a416181d29f9a8b70e292000
23:26:51 当前执行的sql语句: insert into borrow (card_id, book_id, admin_id, borrow_date, return_date, deleted, id) values (?, ?, ?, ?, ?, ?, ?) ['0015548997115877339c4961628494483e1416feacbdbd5000', '001555592793516a598249f6aac4eeb81ff098f974c56f4000', '-1', 1555687611.1728072, None, False, '001555687611180ac800e85158a416181d29f9a8b70e292000']
23:26:51 Borrow: 借书成功, 书名:C++ Primer
23:26:51 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where title=? ['C++ Primer']
23:26:51 rows returned: 1
23:26:54 当前执行的sql语句: select id, email, password, role, username, created_time, card_id from user where id=? ['0015548749550657318fa7cbd054509b37bab57577a76a7000']
23:26:54 rows returned: 1
23:26:54 当前执行的sql语句: select id, card_id, book_id, admin_id, borrow_date, return_date, deleted from borrow where card_id=? ['0015548997115877339c4961628494483e1416feacbdbd5000']
23:26:54 rows returned: 7
23:26:54 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592718220025e8ac4ccb44520b784f29a8411e103000']
23:26:54 rows returned: 1
23:26:54 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592757016e0aaca1df2894a12a9a6f09a0c48c25d000']
23:26:54 rows returned: 1
23:26:54 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592793516a598249f6aac4eeb81ff098f974c56f4000']
23:26:54 rows returned: 1
23:26:54 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592718220025e8ac4ccb44520b784f29a8411e103000']
23:26:54 rows returned: 1
23:26:54 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592718220025e8ac4ccb44520b784f29a8411e103000']
23:26:54 rows returned: 1
23:26:54 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592793516a598249f6aac4eeb81ff098f974c56f4000']
23:26:54 rows returned: 1
23:26:54 当前执行的sql语句: select id, title, press, year, author, price, total, stock from book where id=? ['001555592793516a598249f6aac4eeb81ff098f974c56f4000']
23:26:54 rows returned: 1
23:26:54 infos: [{'book': '算法导论', 'bt': '2019-04-18 22:01:18', 'rt': '2019-04-18 22:07:31', 'de': 1}, {'book': '计算即组成与设计', 'bt': '2019-04-18 22:07:17', 'rt': '', 'de': 0}, {'book': 'C++ Primer', 'bt': '2019-04-18 22:07:22', 'rt': '2019-04-18 22:07:46', 'de': 1}, {'book': '算法导论', 'bt': '2019-04-18 22:07:38', 'rt': '2019-04-18 22:07:48', 'de': 1}, {'book': '算法导论', 'bt': '2019-04-19 20:18:41', 'rt': '', 'de': 0}, {'book': 'C++ Primer', 'bt': '2019-04-19 20:20:19', 'rt': '2019-04-19 23:26:42', 'de': 1}, {'book': 'C++ Primer', 'bt': '2019-04-19 23:26:51', 'rt': '', 'de': 0}]
23:28:03 found model: Book (table: book)
23:28:03   found mapping: id ==> <StringField, varchar(50):None>
23:28:03   found mapping: title ==> <StringField, varchar(50):None>
23:28:03   found mapping: press ==> <StringField, varchar(50):None>
23:28:03   found mapping: year ==> <IntegerField, bigint:None>
23:28:03   found mapping: author ==> <StringField, varchar(50):None>
23:28:03   found mapping: price ==> <FloatField, real:None>
23:28:03   found mapping: total ==> <IntegerField, bigint:None>
23:28:03   found mapping: stock ==> <IntegerField, bigint:None>
23:28:03 found model: Borrow (table: borrow)
23:28:03   found mapping: id ==> <StringField, varchar(50):None>
23:28:03   found mapping: card_id ==> <StringField, varchar(50):None>
23:28:03   found mapping: book_id ==> <StringField, varchar(50:None>
23:28:03   found mapping: admin_id ==> <StringField, vaarchar(50):None>
23:28:03   found mapping: borrow_date ==> <FloatField, numeric(10,2):None>
23:28:03   found mapping: return_date ==> <FloatField, numeric(10,2):None>
23:28:03   found mapping: deleted ==> <BooleanField, boolean:None>
23:28:03 found model: User (table: user)
23:28:03   found mapping: id ==> <StringField, varchar(50):None>
23:28:03   found mapping: email ==> <StringField, varchar(50):None>
23:28:03   found mapping: password ==> <StringField, varchar(65):None>
23:28:03   found mapping: role ==> <IntegerField, bigint:None>
23:28:03   found mapping: username ==> <StringField, varchar(50):None>
23:28:03   found mapping: created_time ==> <FloatField, numeric(10,2):None>
23:28:03   found mapping: card_id ==> <StringField, varchar(50):None>
23:28:03 found model: Card (table: card)
23:28:03   found mapping: id ==> <StringField, varchar(50):None>
23:28:03   found mapping: name ==> <StringField, varchar(50):None>
23:28:03   found mapping: dept ==> <StringField, varchar(50):None>
23:28:03   found mapping: type ==> <StringField, varchar(1):None>
